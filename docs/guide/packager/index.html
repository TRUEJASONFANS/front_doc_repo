<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>打包器 | 前端知识图谱</title>
    <meta name="description" content="front knowledge collecting repo.">
    
    
    <link rel="preload" href="/assets/css/0.styles.fe066829.css" as="style"><link rel="preload" href="/assets/js/app.0a286343.js" as="script"><link rel="preload" href="/assets/js/2.3d15ea8a.js" as="script"><link rel="preload" href="/assets/js/15.e8a51af0.js" as="script"><link rel="prefetch" href="/assets/js/10.b42dc1b0.js"><link rel="prefetch" href="/assets/js/11.e5880191.js"><link rel="prefetch" href="/assets/js/12.10a0f767.js"><link rel="prefetch" href="/assets/js/13.5e18931f.js"><link rel="prefetch" href="/assets/js/14.7dfdaba3.js"><link rel="prefetch" href="/assets/js/16.82cefe28.js"><link rel="prefetch" href="/assets/js/17.9e3f0d55.js"><link rel="prefetch" href="/assets/js/18.3abee026.js"><link rel="prefetch" href="/assets/js/19.fa1a770d.js"><link rel="prefetch" href="/assets/js/20.b293c829.js"><link rel="prefetch" href="/assets/js/21.e13e8578.js"><link rel="prefetch" href="/assets/js/22.fd0da2b0.js"><link rel="prefetch" href="/assets/js/23.0d648270.js"><link rel="prefetch" href="/assets/js/24.33faf053.js"><link rel="prefetch" href="/assets/js/25.eaf6e059.js"><link rel="prefetch" href="/assets/js/26.3fad08a7.js"><link rel="prefetch" href="/assets/js/3.440bffa7.js"><link rel="prefetch" href="/assets/js/4.bd5fd8ab.js"><link rel="prefetch" href="/assets/js/5.a37ac758.js"><link rel="prefetch" href="/assets/js/6.e6779ed7.js"><link rel="prefetch" href="/assets/js/7.99f4b039.js"><link rel="prefetch" href="/assets/js/8.0dbaa283.js"><link rel="prefetch" href="/assets/js/9.90875d31.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fe066829.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端知识图谱</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/knowledgemap/" class="nav-link">知识图谱</a></div> <a href="https://github.com/TRUEJASONFANS/front_doc_repo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/knowledgemap/" class="nav-link">知识图谱</a></div> <a href="https://github.com/TRUEJASONFANS/front_doc_repo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" class="sidebar-link">工具链</a></li><li><a href="/guide/packageManager.html" class="sidebar-link">包管理器</a></li><li><a href="/guide/packager/" class="active sidebar-link">打包器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/packager/#什么叫模块化？" class="sidebar-link">什么叫模块化？</a></li><li class="sidebar-sub-header"><a href="/guide/packager/#示例：-以一个html5的游戏为例" class="sidebar-link">示例： 以一个html5的游戏为例</a></li><li class="sidebar-sub-header"><a href="/guide/packager/#模块规范" class="sidebar-link">模块规范</a></li><li class="sidebar-sub-header"><a href="/guide/packager/#webpack" class="sidebar-link">webpack</a></li></ul></li><li><a href="/guide/compiler.html" class="sidebar-link">编译器Babel</a></li><li><a href="/guide/packager/others.html" class="sidebar-link">其他打包器相关</a></li><li><a href="/guide/unit_test.html" class="sidebar-link">测试</a></li><li><a href="/guide/canvas_doc/" class="sidebar-link">Canvas</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="打包器"><a href="#打包器" aria-hidden="true" class="header-anchor">#</a> 打包器</h1> <h2 id="什么叫模块化？"><a href="#什么叫模块化？" aria-hidden="true" class="header-anchor">#</a> 什么叫模块化？</h2> <p>远古时代， 当我们程序还远远未达到工程的量级， 我们程序可能就是一个文件，甚至是几行code。
比如一个文件的实现的<a href="http://localhost:8080/blocks.html" target="_blank" rel="noopener noreferrer">俄罗斯方块<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。
模块化的概念就是用模块化方式去管理，重复利用，优化代码码,从而达到工程的概念。 在js语言被创造出来的初期，它仅仅用于操作页面的一些小脚本工作.
完全无法胜任复杂的软件工程。随着Web页面越来越来复杂化，js所承担的工作越来越大，所以对js的代码实现模块化管理需求越来越重要和紧急，于是出现需要
模块化的标准</p> <h2 id="示例：-以一个html5的游戏为例"><a href="#示例：-以一个html5的游戏为例" aria-hidden="true" class="header-anchor">#</a> 示例： 以一个html5的游戏为例</h2> <p><a href="http://localhost:8080/TinyHeart.html" target="_blank" rel="noopener noreferrer">海底大喂🐟<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>经过模块化打包后的解决方案
<a href="http://localhost:8080/TinyHeart_v2.html" target="_blank" rel="noopener noreferrer">海底大喂🐟v2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>模块化帮我们解决需要帮我们解决以下几个问题</p> <ul><li>如何向其他模块导出</li> <li>如何在模块中引用其他模块</li> <li>一些共有模块该如何分离</li> <li>怎么处理宿主环境的不同？(浏览器和node的环境区别)</li></ul> <h2 id="模块规范"><a href="#模块规范" aria-hidden="true" class="header-anchor">#</a> 模块规范</h2> <ol><li>CommomJS (同步)</li></ol> <div class="language- extra-class"><pre class="language-text"><code>a.js
exports.add = function(a,b){
	return a+b;
}

b.js 
var add = require('a.js').add;
console.log(add(1,2))//3
</code></pre></div><ol start="2"><li>AMD (异步)</li></ol> <div class="language- extra-class"><pre class="language-text"><code>define(['myModule', 'myOtherModule'],function(myModule, myOtherModule) {
	console.log(myModule.hello());
});
</code></pre></div><ol start="3"><li>UMD (统一)
简而言之就是从同步到异步再到统一
<a href="https://75team.com/post/%E8%AF%91%E7%A5%9E%E9%A9%AC%E6%98%AFamd-commonjs-umd.html" target="_blank" rel="noopener noreferrer">详细参见<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <table><thead><tr><th>环境</th> <th style="text-align:center;">规范</th> <th style="text-align:right;">实现</th></tr></thead> <tbody><tr><td>node</td> <td style="text-align:center;">CommonJS</td> <td style="text-align:right;">nodejs 模块</td></tr> <tr><td>浏览器</td> <td style="text-align:center;">CommonJS</td> <td style="text-align:right;">Browserify</td></tr> <tr><td>浏览器</td> <td style="text-align:center;">AMD</td> <td style="text-align:right;">RequireJS</td></tr> <tr><td>浏览器</td> <td style="text-align:center;">UMD</td> <td style="text-align:right;">👆两者</td></tr></tbody></table> <ol start="4"><li>ES module (规范) (我们用这种就行了)
上面的模块化解决方案都是缺乏官方的模块规范才出来的，既然对模块化的需求这么旺盛，官方在ES2015(ES6)里也就提出了官方的模块化方案，主要使用import和export 两个关键字.
示例</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> export1 <span class="token punctuation">,</span> export2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;module-name&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>注意：现在主流浏览器都没有原生支持es module. 我们需要通过babel转译我们的代码才能达到此目的。即我们用es规范实现js代码，最终转译打包成浏览器支持运行的js代码。</p> <h2 id="webpack"><a href="#webpack" aria-hidden="true" class="header-anchor">#</a> webpack</h2> <p>Webpack 是一个打包模块化 JavaScript 的工具，在 Webpack 里一切文件皆模块，通过 Loader 转换文件，通过 Plugin 注入钩子，最后输出由多个模块组合成的文件。Webpack 专注于构建模块化项目。
<a href="http://webpack.wuhaolin.cn/1%E5%85%A5%E9%97%A8/img/1-2webpack.png" target="_blank" rel="noopener noreferrer">图例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="一个健全打包器的职责"><a href="#一个健全打包器的职责" aria-hidden="true" class="header-anchor">#</a> 一个健全打包器的职责</h3> <ol><li>代码转换：TypeScript 编译成 JavaScript、SCSS 编译成 CSS 等。</li> <li>文件优化：压缩 JavaScript、CSS、HTML 代码，压缩合并图片等。</li> <li>代码分割：提取多个页面的公共代码、提取首屏不需要执行部分的代码让其异步加载。</li> <li>模块合并：在采用模块化的项目里会有很多个模块和文件，需要构建功能把模块分类合并成一个文件。</li> <li>自动刷新：监听本地源代码的变化，自动重新构建、刷新浏览器。</li> <li>代码校验：在代码被提交到仓库前需要校验代码是否符合规范，以及单元测试是否通过。</li> <li>自动发布：更新完代码后，自动构建出线上发布代码并传输给发布系统。</li></ol> <h3 id="loader-文件翻译员"><a href="#loader-文件翻译员" aria-hidden="true" class="header-anchor">#</a> loader 文件翻译员</h3> <p>打包器中的文件类型翻译员，</p> <h3 id="plugin"><a href="#plugin" aria-hidden="true" class="header-anchor">#</a> plugin</h3> <p>webpack的插件用来提供额外的功能（通过在构建过程注入钩子实现）</p> <h3 id="devserver"><a href="#devserver" aria-hidden="true" class="header-anchor">#</a> DevServer</h3> <ol><li>提供 HTTP 服务而不是使用本地文件预览；</li> <li>监听文件的变化并自动刷新网页，做到实时预览；</li> <li>支持 Source Map，以方便调试。</li></ol> <h3 id="几个核心概念"><a href="#几个核心概念" aria-hidden="true" class="header-anchor">#</a> 几个核心概念</h3> <ol><li>Entry：入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。</li> <li>Module：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。</li> <li>Chunk：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。</li> <li>Loader：模块转换器，用于把模块原内容按照需求转换成新内容。</li> <li>Plugin：扩展插件，在 Webpack 构建流程中的特定时机注入扩展逻辑来改变构建结果或做你想要的事情。</li> <li>Output：输出结果，在 Webpack 经过一系列处理并得出最终想要的代码后输出结果。</li></ol> <h3 id="实例"><a href="#实例" aria-hidden="true" class="header-anchor">#</a> 实例</h3> <p><a href="https://github.com/TRUEJASONFANS/lovingFish" target="_blank" rel="noopener noreferrer">Love fish<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/TRUEJASONFANS/front_doc_repo/edit/master/docs/guide/packager/readme.md" target="_blank" rel="noopener noreferrer">在 github 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/21/2019, 5:59:18 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/guide/packager/others.html">
          其他打包器相关
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0a286343.js" defer></script><script src="/assets/js/2.3d15ea8a.js" defer></script><script src="/assets/js/15.e8a51af0.js" defer></script>
  </body>
</html>
